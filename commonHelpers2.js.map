{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["\"use strict\"\n\nconst feedbackForm = document.querySelector(\".feedback-form\");\nconst textareaMessage = feedbackForm.querySelector(\"textarea\");\nconst inputEmail = feedbackForm.querySelector(\"email\");\nconst localStorageKey = \"feedback-form-state\";\n\ntry {\n    const initialFormData = JSON.parse(localStorage.getItem(feedbackForm));\n    Array.from(form.elements).forEach(element => {\n        const valueStorage = initialFormData[element.name];\n        if (valueStorage) {\n            element.value = valueStorage;\n}\n    })\n} catch (error) {\n    console.error(\"PARSE ERROR\");\n}\nfeedbackForm.addEventListener(\"input\", event => {\n    const formData = new FormData(feedbackForm);\n    const formObject = {};\n        formData.forEach((value, key) => {\n            formObject[key] = value.trim();\n    })\n    localStorage.setItem(localStorageKey, JSON.stringify(formObject));\n    console.log(formObject);\n})\nfeedbackForm.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    localStorage.removeItem(localStorageKey);\n\n    feedbackForm.reset();\n    console.log(initialFormData);\n})\n\n\n\n\n// const userForm = {\n//     email: \"\",\n//     message: \"\",\n//   };\n\n// if (localStorage.getItem(localStorageKey)) {\n//     const initialFormData = JSON.parse(localStorage.getItem(localStorageKey));\n//     inputEmail.value = initialFormData.email;\n//     textareaMessage.value = initialFormData.message;\n//     userForm.email = initialFormData.email;\n//     userForm.message = initialFormData.message;\n// };"],"names":["feedbackForm","localStorageKey","initialFormData","element","valueStorage","event","formData","formObject","value","key"],"mappings":"oDAEA,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EACpCA,EAAa,cAAc,UAAU,EAC1CA,EAAa,cAAc,OAAO,EACrD,MAAMC,EAAkB,sBAExB,GAAI,CACA,MAAMC,EAAkB,KAAK,MAAM,aAAa,QAAQF,CAAY,CAAC,EACrE,MAAM,KAAK,KAAK,QAAQ,EAAE,QAAQG,GAAW,CACzC,MAAMC,EAAeF,EAAgBC,EAAQ,MACzCC,IACAD,EAAQ,MAAQC,EAE5B,CAAK,CACL,MAAE,CACE,QAAQ,MAAM,aAAa,CAC/B,CACAJ,EAAa,iBAAiB,QAASK,GAAS,CAC5C,MAAMC,EAAW,IAAI,SAASN,CAAY,EACpCO,EAAa,CAAA,EACfD,EAAS,QAAQ,CAACE,EAAOC,IAAQ,CAC7BF,EAAWE,GAAOD,EAAM,KAAI,CACxC,CAAK,EACD,aAAa,QAAQP,EAAiB,KAAK,UAAUM,CAAU,CAAC,EAChE,QAAQ,IAAIA,CAAU,CAC1B,CAAC,EACDP,EAAa,iBAAiB,SAAWK,GAAU,CAC/CA,EAAM,eAAc,EACpB,aAAa,WAAWJ,CAAe,EAEvCD,EAAa,MAAK,EAClB,QAAQ,IAAI,eAAe,CAC/B,CAAC"}